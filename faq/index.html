
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frequently Asked Questions &#8212; Looking Glass B4 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/icon.ico"/>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Technical FAQ" href="../tech_faq/" />
    <link rel="prev" title="Kernel Module" href="../module/" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../">
    <img class="logo" src="../_static/icon-128x128.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obs/">OBS plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/">Kernel Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mouse">Mouse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#audio">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="#host">Host</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tech_faq/">Technical FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits/">Looking Glass team</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../">Documentation overview</a><ul>
      <li>Previous: <a href="../module/" title="previous chapter">Kernel Module</a></li>
      <li>Next: <a href="../tech_faq/" title="next chapter">Technical FAQ</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-does-looking-glass-work">
<span id="id1"></span><h3>How does Looking Glass work?<a class="headerlink" href="#how-does-looking-glass-work" title="Permalink to this headline">¶</a></h3>
<p>Please see the following video that covers this:</p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=U44lihtNVVM">https://www.youtube.com/watch?v=U44lihtNVVM</a></p>
</div>
<div class="section" id="can-i-feed-the-vm-directly-into-obs">
<span id="id2"></span><h3>Can I feed the VM directly into OBS?<a class="headerlink" href="#can-i-feed-the-vm-directly-into-obs" title="Permalink to this headline">¶</a></h3>
<p>Looking Glass now features a functional <a class="reference internal" href="../obs/"><span class="doc">OBS plugin</span></a>, which acts as
another Looking Glass client, but instead gives the captured frames to OBS.</p>
</div>
<div class="section" id="why-is-my-ups-updates-per-second-so-low">
<span id="why-is-my-ups-so-low"></span><h3>Why is my UPS (Updates Per Second) so low?<a class="headerlink" href="#why-is-my-ups-updates-per-second-so-low" title="Permalink to this headline">¶</a></h3>
<p>There are several reasons why this can happen, the most common are your
capture resolution, or refresh rate. The windows capture methods currently
struggle to capture high resolutions under certain circumstances.</p>
<p>Another cause can be how the game or application you are running is
configured. Because of the way windows integrate with the WDM (Windows
Desktop Manager), running applications in “Full Screen” mode may—in some
cases—cause a large performance penalty. Try switching to windowed
full-screen mode, the difference in performance can be like night and
day.</p>
<p>Some titles do some strange things at early initialization that cause
capture performance issues. One such title is the Unigine Valley
benchmark where the capture rate is limited to 1/2 the actual rate. For
an unknown reason to both myself and the Unigine developers a simple
task switch (alt+tab) in and out resolves the issue. This is not a
Looking Glass bug.</p>
</div>
<div class="section" id="is-my-gpu-supported">
<span id="id3"></span><h3>Is my GPU supported?<a class="headerlink" href="#is-my-gpu-supported" title="Permalink to this headline">¶</a></h3>
<p>Your guest GPU almost certainly supports DXGI. Use DxDiag to confirm
that you have support for WDDM 1.2 or greater.</p>
<p>The server-side (guest) probing error “Capture is not possible,
unsupported device or driver” indicates NVidia duplication has failed,
not that DXGI has failed. You can fix the error by specifying
<code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">DXGI</span></code></p>
</div>
<div class="section" id="why-do-i-need-spice-if-i-don-t-want-a-spice-display-device">
<span id="why-do-i-need-spice-if-i-dont-want-a-spice-display-device"></span><h3>Why do I need Spice if I don’t want a Spice display device?<a class="headerlink" href="#why-do-i-need-spice-if-i-don-t-want-a-spice-display-device" title="Permalink to this headline">¶</a></h3>
<p>You don’t need Display Spice enabled. Looking Glass has a Spice client
built in to provide some conveniences, but you can disable it with the
“-s” argument.</p>
<p>Note that without Spice, you will not be sending mouse/keyboard events
to the guest, nor will you get clipboard synchronization support.</p>
</div>
<div class="section" id="where-is-the-host-application-for-linux">
<span id="id4"></span><h3>Where is the host application for Linux?<a class="headerlink" href="#where-is-the-host-application-for-linux" title="Permalink to this headline">¶</a></h3>
<p>The “Windows host application” is actually the display server, which
runs in the guest VM. The only thing that needs to run in your Linux
host OS is the `looking-glass-client` application.</p>
</div>
</div>
<div class="section" id="mouse">
<h2>Mouse<a class="headerlink" href="#mouse" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-mouse-is-jumpy-slow-laggy-when-using-spice">
<span id="id5"></span><h3>The mouse is jumpy, slow, laggy when using SPICE<a class="headerlink" href="#the-mouse-is-jumpy-slow-laggy-when-using-spice" title="Permalink to this headline">¶</a></h3>
<p>Please be sure to install the SPICE guest tools from
<a class="reference external" href="https://www.spice-space.org/download.html#windows-binaries">https://www.spice-space.org/download.html#windows-binaries</a>.</p>
</div>
<div class="section" id="how-to-enable-clipboard-synchronization-via-spice">
<span id="id6"></span><h3>How to enable clipboard synchronization via SPICE<a class="headerlink" href="#how-to-enable-clipboard-synchronization-via-spice" title="Permalink to this headline">¶</a></h3>
<p>Install the SPICE guest tools from
<a class="reference external" href="https://www.spice-space.org/download.html#windows-binaries">https://www.spice-space.org/download.html#windows-binaries</a>.</p>
<p>Choose only one of the settings below (the one that applies to your
configuration):</p>
<ul class="simple">
<li><p>QEMU</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-device virtio-serial-pci <span class="se">\</span>
-chardev spicevmc,id<span class="o">=</span>vdagent,name<span class="o">=</span>vdagent <span class="se">\</span>
-device virtserialport,chardev<span class="o">=</span>vdagent,name<span class="o">=</span>com.redhat.spice.0
</pre></div>
</div>
<ul class="simple">
<li><p>libvirt</p>
<ul>
<li><p>Edit the VM using virsh <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">virsh</span> <span class="pre">edit</span> <span class="pre">VIRTUAL_MACHINE_NAME</span></code></p></li>
<li><p>Paste the code from below right above (note the closing tag)</p></li>
</ul>
</li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="c">&lt;!-- No need to add VirtIO Serial device, it will be added automatically --&gt;</span>
<span class="nt">&lt;channel</span> <span class="na">type=</span><span class="s">&quot;spicevmc&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;target</span> <span class="na">type=</span><span class="s">&quot;virtio&quot;</span> <span class="na">name=</span><span class="s">&quot;com.redhat.spice.0&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;address</span> <span class="na">type=</span><span class="s">&quot;virtio-serial&quot;</span> <span class="na">controller=</span><span class="s">&quot;0&quot;</span> <span class="na">bus=</span><span class="s">&quot;0&quot;</span> <span class="na">port=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/channel&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="the-mouse-doesn-t-stay-aligned-with-the-host">
<span id="the-mouse-doesnt-stay-aligned-with-the-host"></span><h3>The mouse doesn’t stay aligned with the host.<a class="headerlink" href="#the-mouse-doesn-t-stay-aligned-with-the-host" title="Permalink to this headline">¶</a></h3>
<p>This is intentional. The host’s mouse no longer interacts with your operating
system, and is completely captured by Looking Glass.</p>
</div>
<div class="section" id="the-cursor-position-doesn-t-update-until-i-click">
<span id="the-cursor-position-doesnt-update-until-i-click"></span><h3>The cursor position doesn’t update until I click<a class="headerlink" href="#the-cursor-position-doesn-t-update-until-i-click" title="Permalink to this headline">¶</a></h3>
<p>Make sure you have removed the Virtual Tablet Device from the Virtual
Machine. Due to the design of windows absolute pointing devices break
applications/games that require cursor capture and as such Looking Glass
does not support them.</p>
</div>
</div>
<div class="section" id="audio">
<h2>Audio<a class="headerlink" href="#audio" title="Permalink to this headline">¶</a></h2>
<p>Looking Glass does not support audio routing. The preferred
solution is to pass through QEMU’s audio to your host’s audio system.</p>
<p>Another popular solution is to use
<a class="reference external" href="https://github.com/duncanthrax/scream">Scream</a>, a virtual sound card which
pipes audio through the network. A guide for setting up scream is available on
the wiki: <a class="reference external" href="https://looking-glass.io/wiki/Using_Scream_over_LAN">https://looking-glass.io/wiki/Using_Scream_over_LAN</a></p>
</div>
<div class="section" id="windows">
<span id="faq-win"></span><h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nvfbc-nvidia-capture-api-doesn-t-work">
<span id="nvfbc-nvidia-capture-api-doesnt-work"></span><h3>NvFBC (NVIDIA Capture API) doesn’t work<a class="headerlink" href="#nvfbc-nvidia-capture-api-doesn-t-work" title="Permalink to this headline">¶</a></h3>
<p>NvFBC is only supported on professional-grade GPUs, and will not function on
consumer-grade cards like those from the GeForce series.</p>
</div>
<div class="section" id="the-screen-stops-updating-when-left-idle-for-a-time">
<span id="id7"></span><h3>The screen stops updating when left idle for a time<a class="headerlink" href="#the-screen-stops-updating-when-left-idle-for-a-time" title="Permalink to this headline">¶</a></h3>
<p>Windows is likely turning off the display to save power, you can prevent
this by adjusting the `Power Options` in the control panel.</p>
</div>
</div>
<div class="section" id="host">
<span id="faq-host"></span><h2>Host<a class="headerlink" href="#host" title="Permalink to this headline">¶</a></h2>
<div class="section" id="where-is-the-log">
<h3>Where is the log?<a class="headerlink" href="#where-is-the-log" title="Permalink to this headline">¶</a></h3>
<p>The log file for the host application is located at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">ProgramData</span><span class="o">%</span>\<span class="n">Looking</span> <span class="n">Glass</span> <span class="p">(</span><span class="n">host</span><span class="p">)</span>\<span class="n">looking</span><span class="o">-</span><span class="n">glass</span><span class="o">-</span><span class="n">host</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>You can also find out where the file is by right clicking on the tray
icon and selecting “Log File Location”.</p>
<p>The log file for the looking glass service is located at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">ProgramData</span><span class="o">%</span>\<span class="n">Looking</span> <span class="n">Glass</span> <span class="p">(</span><span class="n">host</span><span class="p">)</span>\<span class="n">looking</span><span class="o">-</span><span class="n">glass</span><span class="o">-</span><span class="n">host</span><span class="o">-</span><span class="n">service</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>This is useful for troubleshooting errors related to the host
application not starting.</p>
<div class="section" id="high-priority-capture-using-dxgi-and-secure-desktop-uac-capture-support">
<h4>High priority capture using DXGI and Secure Desktop (UAC) capture support<a class="headerlink" href="#high-priority-capture-using-dxgi-and-secure-desktop-uac-capture-support" title="Permalink to this headline">¶</a></h4>
<p>By default Windows gives priority to the foreground application for any
GPU work which causes issues with capture if the foreground application
is consuming 100% of the available GPU resources. The looking glass host
application is able to increase the kernel GPU thread to realtime
priority which fixes this, but in order to do so it must run as the
<code class="docutils literal notranslate"><span class="pre">SYSTEM</span></code> user account. To do this, Looking Glass needs to run as a
service. This can be accomplished by either using the NSIS installer
which will do this for you, or you can use the following command to
Install the service manually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">looking</span><span class="o">-</span><span class="n">glass</span><span class="o">-</span><span class="n">host</span><span class="o">.</span><span class="n">exe</span> <span class="n">InstallService</span>
</pre></div>
</div>
<p>To remove the service use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">looking</span><span class="o">-</span><span class="n">glass</span><span class="o">-</span><span class="n">host</span><span class="o">.</span><span class="n">exe</span> <span class="n">UninstallService</span>
</pre></div>
</div>
<p>This will also enable the host application to capture the secure desktop
which includes things like the lock screen and UAC prompts.</p>
</div>
</div>
<div class="section" id="why-does-the-host-require-administrator-privileges">
<span id="faq-host-admin-privs"></span><h3>Why does the host require Administrator privileges?<a class="headerlink" href="#why-does-the-host-require-administrator-privileges" title="Permalink to this headline">¶</a></h3>
<p>This is intentional for several reasons.</p>
<ol class="arabic simple">
<li><p>NvFBC requires a system wide hook to correctly obtain the cursor
position as NVIDIA decided to not provide this as part of the cursor
updates.</p></li>
<li><p>NvFBC requires administrator level access to enable the interface in
the first place. (WIP)</p></li>
<li><p>DXGI performance can be improved if we have this. (WIP)</p></li>
</ol>
</div>
<div class="section" id="nvfbc-nvidia-frame-buffer-capture">
<h3>NvFBC (NVIDIA Frame Buffer Capture)<a class="headerlink" href="#nvfbc-nvidia-frame-buffer-capture" title="Permalink to this headline">¶</a></h3>
<div class="section" id="why-can-t-i-compile-nvfbc-support-into-the-host">
<h4>Why can’t I compile NvFBC support into the host?<a class="headerlink" href="#why-can-t-i-compile-nvfbc-support-into-the-host" title="Permalink to this headline">¶</a></h4>
<p>You must download and install the NVidia Capture SDK. Please note that
by doing so you will be agreeing to NVIDIA’s SDK License agreement.</p>
<p><em>-Geoff</em></p>
</div>
<div class="section" id="why-doesn-t-looking-glass-work-with-scream-over-ivshmem">
<span id="a-note-about-ivshmem-and-scream-audio"></span><h4>Why doesn’t Looking Glass work with Scream over IVSHMEM?<a class="headerlink" href="#why-doesn-t-looking-glass-work-with-scream-over-ivshmem" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using IVSHMEM with Scream may interfere with Looking Glass, as they may try
to use the same device.</p>
</div>
<p>Please do not use the IVSHMEM plugin for Scream.
To fix this issue, use the default network transfer method.
The IVSHMEM method induces additional latency that is built into its
implementation. When using VirtIO for a network device the VM is already using
a highly optimized memory copy anyway so there is no need to make another one.</p>
<p>If you insist on using IVSHMEM for Scream—despite its inferiority to the
default network implementation—the Windows Host Application can be told
what device to use. Create a <code class="docutils literal notranslate"><span class="pre">looking-glass-host.ini</span></code> file in the same
directory as the looking-glass-host.exe file. In it, you can use the
<code class="docutils literal notranslate"><span class="pre">os:shmDevice</span></code> option like so:</p>
<div class="highlight-INI notranslate"><div class="highlight"><pre><span></span><span class="k">[os]</span>
<span class="na">shmDevice</span><span class="o">=</span><span class="s">1</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021, Looking Glass team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/faq.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>