
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installation &#8212; Looking Glass B4 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/icon.ico"/>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Building" href="../build/" />
    <link rel="prev" title="Looking Glass B4 documentation" href="../" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../">
    <img class="logo" src="../_static/icon-128x128.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#client">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#host">Host</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../build/">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obs/">OBS plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/">Kernel Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tech_faq/">Technical FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits/">Looking Glass team</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../">Documentation overview</a><ul>
      <li>Previous: <a href="../" title="previous chapter">Looking Glass B4 documentation</a></li>
      <li>Next: <a href="../build/" title="next chapter">Building</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<span id="installing"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="client">
<span id="client-install"></span><h2>Client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h2>
<p>The Looking Glass Client recieves frames from the <a class="reference internal" href="#host-install"><span class="std std-ref">Host</span></a> to
display on your screen. It also handles input, and can optionally share the
system clipboard with your guest OS through Spice.</p>
<p>First you must build the client from source code, see <a class="reference internal" href="../build/#building"><span class="std std-ref">Building</span></a>.</p>
<p>After this, you may move the client into a directory in your path, some may
allow <code class="docutils literal notranslate"><span class="pre">~/.local/bin</span></code>, or run it directly from the build directory.</p>
<div class="section" id="libvirt-configuration">
<span id="client-libvirt-configuration"></span><h3>libvirt Configuration<a class="headerlink" href="#libvirt-configuration" title="Permalink to this headline">¶</a></h3>
<p>This article assumes you already have a fully functional libvirt domain with
PCI passthrough working on a dedicated monitor.</p>
<p>If you use virt-manager, this guide also applies to you, since virt-manager uses
libvirt as its back-end.</p>
<p><strong>If you are using QEMU directly, this does not apply to you.</strong></p>
<p>Add the following to your libvirt machine configuration inside the
‘devices’ section by running <code class="docutils literal notranslate"><span class="pre">virsh</span> <span class="pre">edit</span> <span class="pre">&lt;VM&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;VM&gt;</span></code> is the name of
your virtual machine.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;shmem</span> <span class="na">name=</span><span class="s">&#39;looking-glass&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;model</span> <span class="na">type=</span><span class="s">&#39;ivshmem-plain&#39;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;size</span> <span class="na">unit=</span><span class="s">&#39;M&#39;</span><span class="nt">&gt;</span>32<span class="nt">&lt;/size&gt;</span>
<span class="nt">&lt;/shmem&gt;</span>
</pre></div>
</div>
<p>The memory size (show as 32 in the example above) may need to be
adjusted as per the <a class="reference internal" href="#client-determining-memory"><span class="std std-ref">Determining Memory</span></a> section.</p>
<div class="section" id="spice-server">
<span id="client-spice-server"></span><h4>Spice Server<a class="headerlink" href="#spice-server" title="Permalink to this headline">¶</a></h4>
<p>If you would like to use Spice to give you keyboard and mouse input
along with clipboard sync support, make sure you have a
<code class="docutils literal notranslate"><span class="pre">&lt;graphics</span> <span class="pre">type='spice'&gt;</span></code> device, then:</p>
<ul class="simple">
<li><p>Find your <code class="docutils literal notranslate"><span class="pre">&lt;video&gt;</span></code> device, and set <code class="docutils literal notranslate"><span class="pre">&lt;model</span> <span class="pre">type='none'/&gt;</span></code></p>
<ul>
<li><p>If you can’t find it, make sure you have a <code class="docutils literal notranslate"><span class="pre">&lt;graphics&gt;</span></code>
device, save and edit again</p></li>
<li><p>On older libvirt versions, just disable the device in Windows
Device Manager</p></li>
</ul>
</li>
<li><p>Remove the <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type='tablet'/&gt;</span></code> device, if you have one</p></li>
<li><p>Create an <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type='mouse'/&gt;</span></code> device, if you don’t already have one</p></li>
<li><p>Create an <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type='keyboard'</span> <span class="pre">bus='virtio'/&gt;</span></code> device to improve
keyboard usage</p>
<ul>
<li><p>This requires the <em>vioinput</em> driver from
<a class="reference external" href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/">virtio-win</a>
to be installed in the guest</p></li>
</ul>
</li>
</ul>
<p>If you want clipboard synchronization please see
<a class="reference internal" href="../faq/#how-to-enable-clipboard-synchronization-via-spice"><span class="std std-ref">How to enable clipboard synchronization via SPICE</span></a></p>
</div>
<div class="section" id="apparmor">
<span id="client-apparmor"></span><h4>AppArmor<a class="headerlink" href="#apparmor" title="Permalink to this headline">¶</a></h4>
<p>For libvirt versions before <strong>5.10.0</strong>, if you are using AppArmor, you
need to add permissions for QEMU to access the shared memory file. This
can be done by adding the following to
<em>/etc/apparmor.d/local/abstractions/libvirt-qemu</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">/dev/shm/looking-glass rw,</span></code></p>
</div>
</div>
<div class="section" id="qemu-commands">
<span id="client-qemu-commands"></span><h3>Qemu Commands<a class="headerlink" href="#qemu-commands" title="Permalink to this headline">¶</a></h3>
<p><strong>If you are using libvirt/virt-manager, then this does not apply to you.</strong></p>
<p>Add the following to the commands to your QEMU command line, adjusting
the <code class="docutils literal notranslate"><span class="pre">bus</span></code> parameter to suit your particular configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-device ivshmem-plain,memdev<span class="o">=</span>ivshmem,bus<span class="o">=</span>pcie.0 <span class="se">\</span>
-object memory-backend-file,id<span class="o">=</span>ivshmem,share<span class="o">=</span>on,mem-path<span class="o">=</span>/dev/shm/looking-glass,size<span class="o">=</span>32M
</pre></div>
</div>
<p>The memory size (shown as 32M in the example above) may need to be
adjusted as per <a class="reference internal" href="#client-determining-memory"><span class="std std-ref">Determining Memory</span></a> section.</p>
</div>
<div class="section" id="determining-memory">
<span id="client-determining-memory"></span><h3>Determining Memory<a class="headerlink" href="#determining-memory" title="Permalink to this headline">¶</a></h3>
<p>You will need to adjust the memory size to be suitable for
your desired maximum resolution, with the following formula:</p>
<p><code class="docutils literal notranslate"><span class="pre">width</span> <span class="pre">x</span> <span class="pre">height</span> <span class="pre">x</span> <span class="pre">4</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">=</span> <span class="pre">total</span> <span class="pre">bytes</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">total</span> <span class="pre">bytes</span> <span class="pre">/</span> <span class="pre">1024</span> <span class="pre">/</span> <span class="pre">1024</span> <span class="pre">=</span> <span class="pre">total</span> <span class="pre">megabytes</span> <span class="pre">+</span> <span class="pre">10</span></code></p>
<p>For example, for a resolution of 1920x1080 (1080p):</p>
<p><code class="docutils literal notranslate"><span class="pre">1920</span> <span class="pre">x</span> <span class="pre">1080</span> <span class="pre">x</span> <span class="pre">4</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">=</span> <span class="pre">16,588,800</span> <span class="pre">bytes</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">16,588,800</span> <span class="pre">/</span> <span class="pre">1024</span> <span class="pre">/</span> <span class="pre">1024</span> <span class="pre">=</span> <span class="pre">15.82</span> <span class="pre">MB</span> <span class="pre">+</span> <span class="pre">10</span> <span class="pre">=</span> <span class="pre">25.82</span></code></p>
<p>You must round this value up to the nearest power of two, which for the
provided example is 32MB.</p>
</div>
<div class="section" id="shared-memory-file-permissions">
<span id="client-shmfile-permissions"></span><h3>Shared Memory File Permissions<a class="headerlink" href="#shared-memory-file-permissions" title="Permalink to this headline">¶</a></h3>
<p>The shared memory file used by IVSHMEM is found in <code class="docutils literal notranslate"><span class="pre">/dev/shm/looking-glass</span></code>.
By default, it is owned by QEMU, and does not give read/write permissions to
your user, which are required for Looking Glass to run properly.</p>
<p>You can use <cite>systemd-tmpfiles</cite> to create the file before running your VM,
granting the necessary permissions which allow Looking Glass to use the file
properly.</p>
<p>Create a new file <code class="docutils literal notranslate"><span class="pre">/etc/tmpfiles.d/10-looking-glass.conf</span></code>, and populate it
with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Type Path               Mode UID  GID Age Argument</span>

<span class="n">f</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">shm</span><span class="o">/</span><span class="n">looking</span><span class="o">-</span><span class="n">glass</span> <span class="mi">0660</span> <span class="n">user</span> <span class="n">kvm</span> <span class="o">-</span>
</pre></div>
</div>
<p>Change <code class="docutils literal notranslate"><span class="pre">UID</span></code> to the user name you will run Looking Glass with, usually your
own.</p>
</div>
</div>
<div class="section" id="usage">
<span id="client-usage"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The client command is the binary file: <strong>looking-glass-client</strong>. This
command should run after the Windows Host Application has started.</p>
<p>You can run the client from the build directory, add the build directory to your
path to call it from anywhere, or run this command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ln -s <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/looking-glass-client /usr/local/bin/
</pre></div>
</div>
<p>from the build directory.</p>
<div class="section" id="default-key-bindings">
<span id="client-key-bindings"></span><h3>Default Key Bindings<a class="headerlink" href="#default-key-bindings" title="Permalink to this headline">¶</a></h3>
<p>By default Looking Glass uses the <kbd class="kbd docutils literal notranslate">Scroll Lock</kbd> key as the escape key
for commands as well as the input <kbd class="kbd docutils literal notranslate">capture</kbd> mode toggle, this can be
changed using the <code class="docutils literal notranslate"><span class="pre">-m</span></code> switch if you desire a different key. Below are
a list of current key bindings:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd></p></td>
<td><p>Toggle capture mode</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">Q</kbd></p></td>
<td><p>Quit</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">R</kbd></p></td>
<td><p>Rotate the output clockwise by 90° increments</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">I</kbd></p></td>
<td><p>Spice keyboard &amp; mouse enable toggle</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">S</kbd></p></td>
<td><p>Toggle scale algorithm</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">D</kbd></p></td>
<td><p>FPS display toggle</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F</kbd></p></td>
<td><p>Full screen toggle</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">V</kbd></p></td>
<td><p>Video stream toggle</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">N</kbd></p></td>
<td><p>Toggle night vision mode</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F1</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F1</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F2</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F2</kbd> to the guest</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F3</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F3</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F4</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F4</kbd> to the guest</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F5</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F5</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F6</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F6</kbd> to the guest</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F7</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F7</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F8</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F8</kbd> to the guest</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F9</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F9</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F10</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F10</kbd> to the guest</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F11</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F11</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">F12</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Alt</kbd> + <kbd class="kbd docutils literal notranslate">F12</kbd> to the guest</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">Insert</kbd></p></td>
<td><p>Increase mouse sensitivity in capture mode</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">Del</kbd></p></td>
<td><p>Decrease mouse sensitivity in capture mode</p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">LWin</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">LWin</kbd> to the guest</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">ScrLk</kbd> + <kbd class="kbd docutils literal notranslate">RWin</kbd></p></td>
<td><p>Send <kbd class="kbd docutils literal notranslate">RWin</kbd> to the guest</p></td>
</tr>
</tbody>
</table>
<p>You can also find this list at any time by holding down <kbd class="kbd docutils literal notranslate">Scroll Lock</kbd>.</p>
</div>
<div class="section" id="command-line-options">
<span id="client-cli-options"></span><h3>Command Line Options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h3>
<p>A full list of command line options is available with the <code class="docutils literal notranslate"><span class="pre">--help</span></code> or <code class="docutils literal notranslate"><span class="pre">-h</span></code>
options.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">looking-glass-client</span> <span class="pre">--help</span></code></p>
<p>Common options include <code class="docutils literal notranslate"><span class="pre">-s</span></code> for disabling spice, <code class="docutils literal notranslate"><span class="pre">-S</span></code> for disabling the
screen saver, and <code class="docutils literal notranslate"><span class="pre">-F</span></code> to automatically enter full screen.</p>
<p>Options may be provided with a short form, if available, or directly by
long form. Boolean options may be specified without a paramater to toggle their
state.</p>
<p>Examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">looking-glass-client</span> <span class="pre">-F</span></code> (short)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">looking-glass-client</span> <span class="pre">win:fullScreen</span></code> (long)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">looking-glass-client</span> <span class="pre">-f</span> <span class="pre">/dev/shm/my-lg-shmem</span></code> (short with parameter)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">looking-glass-client</span> <span class="pre">app:shmFile=/dev/shm/my-lg-shmem</span></code> (long with parameter)</p></li>
</ul>
</div>
<div class="section" id="configuration-files">
<span id="client-config-options-file"></span><h3>Configuration Files<a class="headerlink" href="#configuration-files" title="Permalink to this headline">¶</a></h3>
<p>By default the application will look for and load the config files in
the following locations</p>
<ul class="simple">
<li><p>/etc/looking-glass-client.ini</p></li>
<li><p>~/.looking-glass-client.ini</p></li>
</ul>
<p>The format of this file is the commonly known INI format, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">win</span><span class="p">]</span>
<span class="n">fullScreen</span><span class="o">=</span><span class="n">yes</span>

<span class="p">[</span><span class="n">egl</span><span class="p">]</span>
<span class="n">nvGain</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>Command line arguments will override any options loaded from the config
files.</p>
</div>
<div class="section" id="full-command-line-options">
<span id="client-full-command-options"></span><h3>Full Command Line Options<a class="headerlink" href="#full-command-line-options" title="Permalink to this headline">¶</a></h3>
<p>The following is a complete list of options accepted by this application</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 5%" />
<col style="width: 17%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>app:configFile</p></td>
<td><p>-C</p></td>
<td><p>NULL</p></td>
<td><p>A file to read additional configuration from</p></td>
</tr>
<tr class="row-odd"><td><p>app:renderer</p></td>
<td><p>-g</p></td>
<td><p>auto</p></td>
<td><p>Specify the renderer to use</p></td>
</tr>
<tr class="row-even"><td><p>app:license</p></td>
<td><p>-l</p></td>
<td><p>no</p></td>
<td><p>Show the license for this application and then terminate</p></td>
</tr>
<tr class="row-odd"><td><p>app:cursorPollInterval</p></td>
<td></td>
<td><p>1000</p></td>
<td><p>How often to check for a cursor update in microseconds</p></td>
</tr>
<tr class="row-even"><td><p>app:framePollInterval</p></td>
<td></td>
<td><p>1000</p></td>
<td><p>How often to check for a frame update in microseconds</p></td>
</tr>
<tr class="row-odd"><td><p>app:allowDMA</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Allow direct DMA transfers if supported (see <cite>README.md</cite> in the <cite>module</cite> dir)</p></td>
</tr>
<tr class="row-even"><td><p>app:shmFile</p></td>
<td><p>-f</p></td>
<td><p>/dev/shm/looking-glass</p></td>
<td><p>The path to the shared memory file, or the name of the kvmfr device to use, ie: kvmfr0</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 6%" />
<col style="width: 19%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>win:title</p></td>
<td></td>
<td><p>Looking Glass (client)</p></td>
<td><p>The window title</p></td>
</tr>
<tr class="row-odd"><td><p>win:position</p></td>
<td></td>
<td><p>center</p></td>
<td><p>Initial window position at startup</p></td>
</tr>
<tr class="row-even"><td><p>win:size</p></td>
<td></td>
<td><p>1024x768</p></td>
<td><p>Initial window size at startup</p></td>
</tr>
<tr class="row-odd"><td><p>win:autoResize</p></td>
<td><p>-a</p></td>
<td><p>no</p></td>
<td><p>Auto resize the window to the guest</p></td>
</tr>
<tr class="row-even"><td><p>win:allowResize</p></td>
<td><p>-n</p></td>
<td><p>yes</p></td>
<td><p>Allow the window to be manually resized</p></td>
</tr>
<tr class="row-odd"><td><p>win:keepAspect</p></td>
<td><p>-r</p></td>
<td><p>yes</p></td>
<td><p>Maintain the correct aspect ratio</p></td>
</tr>
<tr class="row-even"><td><p>win:forceAspect</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Force the window to maintain the aspect ratio</p></td>
</tr>
<tr class="row-odd"><td><p>win:dontUpscale</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Never try to upscale the window</p></td>
</tr>
<tr class="row-even"><td><p>win:shrinkOnUpscale</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Limit the window dimensions when dontUpscale is enabled</p></td>
</tr>
<tr class="row-odd"><td><p>win:borderless</p></td>
<td><p>-d</p></td>
<td><p>no</p></td>
<td><p>Borderless mode</p></td>
</tr>
<tr class="row-even"><td><p>win:fullScreen</p></td>
<td><p>-F</p></td>
<td><p>no</p></td>
<td><p>Launch in fullscreen borderless mode</p></td>
</tr>
<tr class="row-odd"><td><p>win:maximize</p></td>
<td><p>-T</p></td>
<td><p>no</p></td>
<td><p>Launch window maximized</p></td>
</tr>
<tr class="row-even"><td><p>win:minimizeOnFocusLoss</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Minimize window on focus loss</p></td>
</tr>
<tr class="row-odd"><td><p>win:fpsMin</p></td>
<td><p>-K</p></td>
<td><p>-1</p></td>
<td><p>Frame rate minimum (0 = disable - not recommended, -1 = auto detect)</p></td>
</tr>
<tr class="row-even"><td><p>win:showFPS</p></td>
<td><p>-k</p></td>
<td><p>no</p></td>
<td><p>Enable the FPS &amp; UPS display</p></td>
</tr>
<tr class="row-odd"><td><p>win:ignoreQuit</p></td>
<td><p>-Q</p></td>
<td><p>no</p></td>
<td><p>Ignore requests to quit (ie: Alt+F4)</p></td>
</tr>
<tr class="row-even"><td><p>win:noScreensaver</p></td>
<td><p>-S</p></td>
<td><p>no</p></td>
<td><p>Prevent the screensaver from starting</p></td>
</tr>
<tr class="row-odd"><td><p>win:autoScreensaver</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Prevent the screensaver from starting when guest requests it</p></td>
</tr>
<tr class="row-even"><td><p>win:alerts</p></td>
<td><p>-q</p></td>
<td><p>yes</p></td>
<td><p>Show on screen alert messages</p></td>
</tr>
<tr class="row-odd"><td><p>win:quickSplash</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Skip fading out the splash screen when a connection is established</p></td>
</tr>
<tr class="row-even"><td><p>win:rotate</p></td>
<td></td>
<td><p>0</p></td>
<td><p>Rotate the displayed image (0, 90, 180, 270)</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 5%" />
<col style="width: 15%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>input:grabKeyboard</p></td>
<td><p>-G</p></td>
<td><p>yes</p></td>
<td><p>Grab the keyboard in capture mode</p></td>
</tr>
<tr class="row-odd"><td><p>input:grabKeyboardOnFocus</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Grab the keyboard when focused</p></td>
</tr>
<tr class="row-even"><td><p>input:releaseKeysOnFocusLoss</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>On focus loss, send key up events to guest for all held keys</p></td>
</tr>
<tr class="row-odd"><td><p>input:escapeKey</p></td>
<td><p>-m</p></td>
<td><p>70 = KEY_SCROLLLOCK</p></td>
<td><p>Specify the escape key, see &lt;linux/input-event-codes.h&gt; for valid values</p></td>
</tr>
<tr class="row-even"><td><p>input:ignoreWindowsKeys</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Do not pass events for the windows keys to the guest</p></td>
</tr>
<tr class="row-odd"><td><p>input:hideCursor</p></td>
<td><p>-M</p></td>
<td><p>yes</p></td>
<td><p>Hide the local mouse cursor</p></td>
</tr>
<tr class="row-even"><td><p>input:mouseSens</p></td>
<td></td>
<td><p>0</p></td>
<td><p>Initial mouse sensitivity when in capture mode (-9 to 9)</p></td>
</tr>
<tr class="row-odd"><td><p>input:mouseSmoothing</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Apply simple mouse smoothing when rawMouse is not in use (helps reduce aliasing)</p></td>
</tr>
<tr class="row-even"><td><p>input:rawMouse</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Use RAW mouse input when in capture mode (good for gaming)</p></td>
</tr>
<tr class="row-odd"><td><p>input:mouseRedraw</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Mouse movements trigger redraws (ignores FPS minimum)</p></td>
</tr>
<tr class="row-even"><td><p>input:autoCapture</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Try to keep the mouse captured when needed</p></td>
</tr>
<tr class="row-odd"><td><p>input:captureOnly</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Only enable input via SPICE if in capture mode</p></td>
</tr>
<tr class="row-even"><td><p>input:helpMenuDelay</p></td>
<td></td>
<td><p>200</p></td>
<td><p>Show help menu after holding down the escape key for this many milliseconds</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 6%" />
<col style="width: 10%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>spice:enable</p></td>
<td><p>-s</p></td>
<td><p>yes</p></td>
<td><p>Enable the built in SPICE client for input and/or clipboard support</p></td>
</tr>
<tr class="row-odd"><td><p>spice:host</p></td>
<td><p>-c</p></td>
<td><p>127.0.0.1</p></td>
<td><p>The SPICE server host or UNIX socket</p></td>
</tr>
<tr class="row-even"><td><p>spice:port</p></td>
<td><p>-p</p></td>
<td><p>5900</p></td>
<td><p>The SPICE server port (0 = unix socket)</p></td>
</tr>
<tr class="row-odd"><td><p>spice:input</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Use SPICE to send keyboard and mouse input events to the guest</p></td>
</tr>
<tr class="row-even"><td><p>spice:clipboard</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Use SPICE to syncronize the clipboard contents with the guest</p></td>
</tr>
<tr class="row-odd"><td><p>spice:clipboardToVM</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Allow the clipboard to be syncronized TO the VM</p></td>
</tr>
<tr class="row-even"><td><p>spice:clipboardToLocal</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Allow the clipboard to be syncronized FROM the VM</p></td>
</tr>
<tr class="row-odd"><td><p>spice:scaleCursor</p></td>
<td><p>-j</p></td>
<td><p>yes</p></td>
<td><p>Scale cursor input position to screen size when up/down scaled</p></td>
</tr>
<tr class="row-even"><td><p>spice:captureOnStart</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Capture mouse and keyboard on start</p></td>
</tr>
<tr class="row-odd"><td><p>spice:alwaysShowCursor</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Always show host cursor</p></td>
</tr>
<tr class="row-even"><td><p>spice:showCursorDot</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Use a “dot” cursor when the window does not have focus</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>egl:vsync</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Enable vsync</p></td>
</tr>
<tr class="row-odd"><td><p>egl:doubleBuffer</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Enable double buffering</p></td>
</tr>
<tr class="row-even"><td><p>egl:multisample</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Enable Multisampling</p></td>
</tr>
<tr class="row-odd"><td><p>egl:nvGainMax</p></td>
<td></td>
<td><p>1</p></td>
<td><p>The maximum night vision gain</p></td>
</tr>
<tr class="row-even"><td><p>egl:nvGain</p></td>
<td></td>
<td><p>0</p></td>
<td><p>The initial night vision gain at startup</p></td>
</tr>
<tr class="row-odd"><td><p>egl:cbMode</p></td>
<td></td>
<td><p>0</p></td>
<td><p>Color Blind Mode (0 = Off, 1 = Protanope, 2 = Deuteranope, 3 = Tritanope)</p></td>
</tr>
<tr class="row-even"><td><p>egl:scale</p></td>
<td></td>
<td><p>0</p></td>
<td><p>Set the scale algorithm (0 = auto, 1 = nearest, 2 = linear)</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>opengl:mipmap</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Enable mipmapping</p></td>
</tr>
<tr class="row-odd"><td><p>opengl:vsync</p></td>
<td></td>
<td><p>no</p></td>
<td><p>Enable vsync</p></td>
</tr>
<tr class="row-even"><td><p>opengl:preventBuffer</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Prevent the driver from buffering frames</p></td>
</tr>
<tr class="row-odd"><td><p>opengl:amdPinnedMem</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Use GL_AMD_pinned_memory if it is available</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Long</p></th>
<th class="head"><p>Short</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>wayland:warpSupport</p></td>
<td></td>
<td><p>yes</p></td>
<td><p>Enable cursor warping</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
<div class="section" id="host">
<span id="host-install"></span><h2>Host<a class="headerlink" href="#host" title="Permalink to this headline">¶</a></h2>
<p>The Looking Glass Host captures frames from the guest OS using a capture API,
and sends these frames to the <a class="reference internal" href="#client-install"><span class="std std-ref">Client</span></a>, be it on the host OS
(hypervisor) or another Virtual Machine, through a low-latency transfer
protocol over shared memory.</p>
<p>You can get the host program in two ways:</p>
<ul class="simple">
<li><p>Download a pre-built binary from <a class="reference external" href="https://looking-glass.io/downloads">https://looking-glass.io/downloads</a>
(<strong>recommended</strong>)</p></li>
<li><p>Download the source code as described in <a class="reference internal" href="../build/#building"><span class="std std-ref">Building</span></a>, then
<a class="reference internal" href="../build/#host-building"><span class="std std-ref">build the host</span></a>.</p></li>
</ul>
<div class="section" id="windows">
<span id="host-install-windows"></span><h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>To begin, you must first run the Windows VM with the changes noted above in
either the <a class="reference internal" href="#client-libvirt-configuration"><span class="std std-ref">libvirt Configuration</span></a> or <a class="reference internal" href="#client-qemu-commands"><span class="std std-ref">Qemu Commands</span></a>
sections.</p>
<div class="section" id="installing-the-ivshmem-driver">
<span id="id1"></span><h4>Installing the IVSHMEM Driver<a class="headerlink" href="#installing-the-ivshmem-driver" title="Permalink to this headline">¶</a></h4>
<p>Windows will not prompt for a driver for the IVSHMEM device, instead, it
will use a default null (do nothing) driver for the device. To install
the IVSHMEM driver you will need to go into the device manager and
update the driver for the device “PCI standard RAM Controller” under the
“System Devices” node.</p>
<p>A signed Windows 10 driver can be obtained from Red Hat for this device
from the below address:</p>
<p><a class="reference external" href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/upstream-virtio/">https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/upstream-virtio/</a></p>
<p>Please note that you must obtain version 0.1.161 or later.</p>
<p>If you encounter warnings or errors about driver signatures, ensure secure boot
is turned off in the bios/uefi settings of your virtual machine.</p>
</div>
<div class="section" id="installing-the-looking-glass-service">
<span id="host-install-service"></span><h4>Installing the Looking Glass Service<a class="headerlink" href="#installing-the-looking-glass-service" title="Permalink to this headline">¶</a></h4>
<p>After installing your IVSHMEM driver, we can now install the Looking Glass Host
onto our Windows Virtual Machine.</p>
<ol class="arabic simple">
<li><p>First, run <code class="docutils literal notranslate"><span class="pre">looking-glass-host-setup.exe</span></code> as an administrator
(<a class="reference internal" href="../faq/#faq-host-admin-privs"><span class="std std-ref">Why?</span></a>)</p></li>
<li><p>You will be greeted by an intro screen. Press <code class="docutils literal notranslate"><span class="pre">Next</span></code> to continue.</p></li>
<li><p>You are presented with the GPLv2 license. Please read and agree to the
license by pressing <code class="docutils literal notranslate"><span class="pre">Agree</span></code>.</p></li>
<li><p>You can change the install path if you wish, otherwise press <code class="docutils literal notranslate"><span class="pre">Next</span></code> to
continue.</p></li>
<li><p>You may enable or disable options on this screen to configure the
installation. The default values are recommended for most users.
Press <code class="docutils literal notranslate"><span class="pre">Install</span></code> to begin installation.</p></li>
<li><p>After a few moments, installation will complete, and you will have a
running instance of Looking Glass. If you experience failures, you can
see them in the install log appearing in the middle of the window.</p></li>
<li><p>Press <code class="docutils literal notranslate"><span class="pre">Close</span></code> to exit the installer.</p></li>
</ol>
<p>Command line users can run <code class="docutils literal notranslate"><span class="pre">looking-glass-host-setup.exe</span> <span class="pre">/S</span></code> to execute a
silent install with default options selected. Further configuration from the
command line can be done with flags. You can list all available flags by
running <code class="docutils literal notranslate"><span class="pre">looking-glass-host-setup.exe</span> <span class="pre">/?</span></code>.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021, Looking Glass team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/install.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>